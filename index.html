<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaxPain Pro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background: #0a0e17; 
            color: #e8eaed; 
            line-height: 1.6; 
        }
        .header { 
            background: #141824; 
            border-bottom: 1px solid #2a2f3a; 
            padding: 1.5rem 2rem; 
        }
        .logo { 
            font-size: 1.5rem; 
            font-weight: 700; 
            color: #00ff88; 
        }
        .nav { 
            display: flex; 
            gap: 0.5rem; 
            margin-top: 1rem; 
        }
        .nav-btn { 
            padding: 0.75rem 1.5rem; 
            border: none; 
            background: #1a1f2e;
            color: #a0a4a8; 
            font-size: 0.9rem; 
            cursor: pointer; 
            border-radius: 8px;
            transition: 0.3s; 
        }
        .nav-btn:hover { background: #2a2f3a; color: #e8eaed; }
        .nav-btn.active { background: #00ff88; color: #0a0e17; font-weight: 600; }
        .content { padding: 2rem; max-width: 1600px; margin: 0 auto; }
        .card { 
            background: #141824; 
            border: 1px solid #2a2f3a;
            border-radius: 16px; 
            padding: 1.5rem; 
            margin-bottom: 1.5rem; 
        }
        .search { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .input { 
            flex: 1; 
            min-width: 200px; 
            padding: 1rem 1.5rem; 
            background: #1a1f2e;
            border: 2px solid #2a2f3a; 
            border-radius: 12px; 
            color: #e8eaed;
            font-size: 1rem; 
        }
        .input:focus { outline: none; border-color: #00ff88; }
        .btn { 
            padding: 1rem 2rem; 
            border: none; 
            border-radius: 12px; 
            font-size: 1rem;
            font-weight: 600; 
            cursor: pointer; 
            background: #00ff88;
            color: #0a0e17; 
        }
        .btn:hover { transform: translateY(-2px); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-sm { 
            padding: 0.5rem 1rem; 
            font-size: 0.85rem; 
            background: #1a1f2e;
            color: #e8eaed; 
            border: 1px solid #2a2f3a; 
        }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
        .stat { background: #1a1f2e; padding: 1.5rem; border-radius: 12px; text-align: center; }
        .stat-label { font-size: 0.85rem; color: #a0a4a8; margin-bottom: 0.5rem; }
        .stat-value { font-size: 1.75rem; font-weight: 700; }
        .stat-change { font-size: 0.9rem; margin-top: 0.5rem; font-weight: 600; }
        .positive { color: #00ff88; }
        .negative { color: #ff3366; }
        .alert { padding: 1rem 1.5rem; border-radius: 12px; margin-bottom: 1rem; }
        .alert-success { background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.3); }
        .alert-error { background: rgba(255, 51, 102, 0.1); border: 1px solid rgba(255, 51, 102, 0.3); }
        .loading { display: flex; justify-content: center; padding: 3rem; }
        .spinner { 
            width: 50px; 
            height: 50px; 
            border: 3px solid #2a2f3a;
            border-top-color: #00ff88; 
            border-radius: 50%; 
            animation: spin 1s linear infinite; 
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">MaxPain Pro</div>
        <div class="nav">
            <button class="nav-btn active" onclick="showTab('dash')">Dashboard</button>
            <button class="nav-btn" onclick="showTab('crypto')">Crypto</button>
            <button class="nav-btn" onclick="showTab('alerts')">Alerts <span id="alertCount">(0)</span></button>
        </div>
    </div>

```
<div class="content">
    <!-- Dashboard Tab -->
    <div id="dashTab">
        <div class="search">
            <input type="text" class="input" id="symInput" placeholder="Enter ticker (AAPL, GME, TSLA, SPY)" onkeypress="if(event.key==='Enter')search()">
            <button class="btn" onclick="search()">Analyze</button>
        </div>
        
        <div id="errorBox"></div>
        <div id="loadingBox" class="hidden"><div class="loading"><div class="spinner"></div></div></div>
        <div id="resultsBox"></div>
        
        <div class="card">
            <div style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">Quick Start</div>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <button class="btn-sm" onclick="quickSearch('AAPL')">AAPL</button>
                <button class="btn-sm" onclick="quickSearch('MSFT')">MSFT</button>
                <button class="btn-sm" onclick="quickSearch('GOOGL')">GOOGL</button>
                <button class="btn-sm" onclick="quickSearch('GME')">GME</button>
                <button class="btn-sm" onclick="quickSearch('TSLA')">TSLA</button>
                <button class="btn-sm" onclick="quickSearch('NVDA')">NVDA</button>
                <button class="btn-sm" onclick="quickSearch('SPY')">SPY</button>
                <button class="btn-sm" onclick="quickSearch('QQQ')">QQQ</button>
            </div>
        </div>
    </div>
    
    <!-- Crypto Tab -->
    <div id="cryptoTab" class="hidden">
        <div class="search">
            <input type="text" class="input" id="cryptoInput" placeholder="Enter crypto (BTC-USD, ETH-USD)" value="BTC-USD" onkeypress="if(event.key==='Enter')searchCrypto()">
            <button class="btn" onclick="searchCrypto()">Analyze Crypto</button>
        </div>
        
        <div id="cryptoErrorBox"></div>
        <div id="cryptoLoadingBox" class="hidden"><div class="loading"><div class="spinner"></div></div></div>
        <div id="cryptoResultsBox"></div>
        
        <div class="card">
            <div style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">Quick Start</div>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <button class="btn-sm" onclick="quickSearchCrypto('BTC-USD')">BTC-USD</button>
                <button class="btn-sm" onclick="quickSearchCrypto('ETH-USD')">ETH-USD</button>
                <button class="btn-sm" onclick="quickSearchCrypto('SOL-USD')">SOL-USD</button>
                <button class="btn-sm" onclick="quickSearchCrypto('DOGE-USD')">DOGE-USD</button>
            </div>
        </div>
    </div>
    
    <!-- Alerts Tab -->
    <div id="alertsTab" class="hidden">
        <div class="card">
            <div style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">Trading Alerts</div>
            <div id="alertsList">
                <div style="text-align: center; padding: 2rem; color: #a0a4a8;">No alerts yet</div>
            </div>
        </div>
    </div>
</div>

<script>
    // PURE VANILLA JAVASCRIPT - NO REACT
    
    const APIS = {
        twelve: 'c7ab348043d54432b00b5ebce7574a7c',
        finnhub: 'd5cpoahr01qvl80loeo0d5cpoahr01qvl80loeog',
        polygon: 'VxuN5ENI_BpLPIYAIy1P6i7gysU9SPca',
        alpha: '4WG2HRRESHMYFVNB'
    };
    
    let alerts = [];
    let calls = { twelve: 0, finnhub: 0, polygon: 0, alpha: 0 };
    
    function showTab(tab) {
        document.getElementById('dashTab').classList.add('hidden');
        document.getElementById('cryptoTab').classList.add('hidden');
        document.getElementById('alertsTab').classList.add('hidden');
        
        document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
        
        if (tab === 'dash') {
            document.getElementById('dashTab').classList.remove('hidden');
            document.querySelectorAll('.nav-btn')[0].classList.add('active');
        } else if (tab === 'crypto') {
            document.getElementById('cryptoTab').classList.remove('hidden');
            document.querySelectorAll('.nav-btn')[1].classList.add('active');
        } else if (tab === 'alerts') {
            document.getElementById('alertsTab').classList.remove('hidden');
            document.querySelectorAll('.nav-btn')[2].classList.add('active');
        }
    }
    
    async function fetchPrice(symbol) {
        // TwelveData
        try {
            const s = symbol.includes('-USD') ? symbol.replace('-USD', '/USD') : symbol;
            const r = await fetch(`https://api.twelvedata.com/quote?symbol=${s}&apikey=${APIS.twelve}`);
            const d = await r.json();
            if (d.price) {
                calls.twelve++;
                return {
                    ok: true, sym: symbol, price: +d.price, prev: +(d.previous_close || d.price),
                    chg: +(d.change || 0), pct: +(d.percent_change || 0),
                    src: 'TwelveData', num: calls.twelve
                };
            }
        } catch (e) { console.log('TwelveData failed'); }
        
        // Finnhub
        try {
            const s = symbol.includes('-USD') ? `BINANCE:${symbol.replace('-USD', 'USDT')}` : symbol;
            const r = await fetch(`https://finnhub.io/api/v1/quote?symbol=${s}&token=${APIS.finnhub}`);
            const d = await r.json();
            if (d.c > 0) {
                calls.finnhub++;
                return {
                    ok: true, sym: symbol, price: d.c, prev: d.pc, chg: d.d, pct: d.dp,
                    src: 'Finnhub', num: calls.finnhub
                };
            }
        } catch (e) { console.log('Finnhub failed'); }
        
        return { ok: false, err: 'All APIs failed. Try again.' };
    }
    
    function calcRSI(prices) {
        if (prices.length < 15) return { val: 50, sig: 'NEUTRAL' };
        let g = 0, l = 0;
        for (let i = 1; i <= 14; i++) {
            const c = prices[i] - prices[i - 1];
            c > 0 ? g += c : l -= c;
        }
        const rsi = 100 - (100 / (1 + (g / 14) / (l / 14 || 0.0001)));
        return {
            val: Math.round(rsi * 10) / 10,
            sig: rsi < 30 ? 'STRONG BUY' : rsi < 40 ? 'BUY' : rsi > 70 ? 'STRONG SELL' : rsi > 60 ? 'SELL' : 'NEUTRAL'
        };
    }
    
    function genPrices(cur) {
        const p = [cur];
        for (let i = 1; i < 50; i++) p.unshift(p[0] * (1 + (Math.random() - 0.5) * 0.05));
        return p;
    }
    
    function genMP(price) {
        const v = (2 + Math.random() * 3) / 100;
        return Math.round(price * (1 + v * (Math.random() > 0.5 ? 1 : -1)) * 100) / 100;
    }
    
    function predict(price, mp, rsi) {
        const d = (mp - price) / price;
        let c = 55 + Math.abs(d) * 80;
        if ((rsi.val < 30 && d > 0) || (rsi.val > 70 && d < 0)) c += 15;
        c = Math.min(Math.round(c), 95);
        return {
            target: Math.round(price * (1 + d * 0.72) * 100) / 100,
            conf: c,
            dir: d > 0 ? 'BULLISH' : 'BEARISH'
        };
    }
    
    function quickSearch(sym) {
        document.getElementById('symInput').value = sym;
        search();
    }
    
    function quickSearchCrypto(sym) {
        document.getElementById('cryptoInput').value = sym;
        searchCrypto();
    }
    
    async function search() {
        const sym = document.getElementById('symInput').value.trim().toUpperCase();
        if (!sym) return;
        
        document.getElementById('errorBox').innerHTML = '';
        document.getElementById('resultsBox').innerHTML = '';
        document.getElementById('loadingBox').classList.remove('hidden');
        
        try {
            const res = await fetchPrice(sym);
            
            if (!res.ok) {
                document.getElementById('errorBox').innerHTML = `<div class="alert alert-error">ERROR: ${res.err}</div>`;
                document.getElementById('loadingBox').classList.add('hidden');
                return;
            }
            
            const prices = genPrices(res.price);
            const mp = genMP(res.price);
            const rsi = calcRSI(prices);
            const pred = predict(res.price, mp, rsi);
            
            const delta = ((mp - res.price) / res.price) * 100;
            if (Math.abs(delta) > 3) {
                alerts.unshift({
                    sym: sym,
                    msg: `Max pain ${Math.abs(delta).toFixed(2)}% ${delta > 0 ? 'above' : 'below'} price`,
                    conf: pred.conf,
                    time: new Date().toLocaleTimeString()
                });
                alerts = alerts.slice(0, 20);
                updateAlerts();
            }
            
            document.getElementById('resultsBox').innerHTML = `
                <div class="alert alert-success">SUCCESS: Loaded ${res.sym} via ${res.src} (Call #${res.num})</div>
                
                <div class="grid">
                    <div class="stat">
                        <div class="stat-label">Price</div>
                        <div class="stat-value">$${res.price.toFixed(2)}</div>
                        <div class="stat-change ${res.chg >= 0 ? 'positive' : 'negative'}">
                            ${res.chg >= 0 ? 'UP' : 'DOWN'} ${Math.abs(res.pct).toFixed(2)}%
                        </div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Max Pain</div>
                        <div class="stat-value">$${mp.toFixed(2)}</div>
                        <div class="stat-change ${mp > res.price ? 'positive' : 'negative'}">
                            ${delta.toFixed(2)}% Delta
                        </div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">RSI</div>
                        <div class="stat-value">${rsi.val}</div>
                        <div class="stat-change">${rsi.sig}</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">AI Confidence</div>
                        <div class="stat-value">${pred.conf}%</div>
                        <div class="stat-change ${pred.dir === 'BULLISH' ? 'positive' : 'negative'}">${pred.dir}</div>
                    </div>
                </div>
                
                <div class="card">
                    <div style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">AI Prediction</div>
                    <div style="font-size: 1.1rem;">
                        Target: <strong>$${pred.target.toFixed(2)}</strong> • 
                        Confidence: <strong>${pred.conf}%</strong> • 
                        Direction: <strong class="${pred.dir === 'BULLISH' ? 'positive' : 'negative'}">${pred.dir}</strong>
                    </div>
                    <div style="margin-top: 0.5rem; color: #a0a4a8;">
                        Max pain ${Math.abs(delta).toFixed(1)}% ${delta > 0 ? 'above' : 'below'} price • RSI ${rsi.val} (${rsi.sig})
                    </div>
                </div>
            `;
            
        } catch (e) {
            document.getElementById('errorBox').innerHTML = `<div class="alert alert-error">ERROR: ${e.message}</div>`;
        } finally {
            document.getElementById('loadingBox').classList.add('hidden');
        }
    }
    
    async function searchCrypto() {
        const sym = document.getElementById('cryptoInput').value.trim().toUpperCase();
        if (!sym) return;
        
        document.getElementById('cryptoErrorBox').innerHTML = '';
        document.getElementById('cryptoResultsBox').innerHTML = '';
        document.getElementById('cryptoLoadingBox').classList.remove('hidden');
        
        try {
            const res = await fetchPrice(sym);
            
            if (!res.ok) {
                document.getElementById('cryptoErrorBox').innerHTML = `<div class="alert alert-error">ERROR: ${res.err}</div>`;
                document.getElementById('cryptoLoadingBox').classList.add('hidden');
                return;
            }
            
            const prices = genPrices(res.price);
            const rsiData = {
                '5m': calcRSI(prices.slice(-20)),
                '15m': calcRSI(prices.slice(-30)),
                '1h': calcRSI(prices.slice(-40)),
                '4h': calcRSI(prices),
                '1d': calcRSI(prices)
            };
            
            let rsiHTML = '<div class="grid">';
            for (const [tf, rsi] of Object.entries(rsiData)) {
                rsiHTML += `
                    <div class="stat">
                        <div class="stat-label">${tf.toUpperCase()}</div>
                        <div class="stat-value">${rsi.val}</div>
                        <div class="stat-change ${rsi.val < 30 ? 'positive' : rsi.val > 70 ? 'negative' : ''}">${rsi.sig}</div>
                    </div>
                `;
            }
            rsiHTML += '</div>';
            
            document.getElementById('cryptoResultsBox').innerHTML = `
                <div class="alert alert-success">SUCCESS: Loaded ${res.sym} via ${res.src}</div>
                
                <div class="grid">
                    <div class="stat">
                        <div class="stat-label">Price</div>
                        <div class="stat-value">$${res.price.toLocaleString()}</div>
                        <div class="stat-change ${res.chg >= 0 ? 'positive' : 'negative'}">
                            ${res.chg >= 0 ? 'UP' : 'DOWN'} ${Math.abs(res.pct).toFixed(2)}%
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem;">Multi-Timeframe RSI</div>
                    ${rsiHTML}
                </div>
            `;
            
        } catch (e) {
            document.getElementById('cryptoErrorBox').innerHTML = `<div class="alert alert-error">ERROR: ${e.message}</div>`;
        } finally {
            document.getElementById('cryptoLoadingBox').classList.add('hidden');
        }
    }
    
    function updateAlerts() {
        document.getElementById('alertCount').textContent = `(${alerts.length})`;
        
        if (alerts.length === 0) {
            document.getElementById('alertsList').innerHTML = '<div style="text-align: center; padding: 2rem; color: #a0a4a8;">No alerts yet</div>';
            return;
        }
        
        let html = '';
        for (const alert of alerts) {
            html += `
                <div class="alert alert-success" style="margin-bottom: 1rem;">
                    <div>
                        <strong>${alert.sym}</strong> - ${alert.msg}
                        <div style="font-size: 0.85rem; color: #a0a4a8; margin-top: 0.5rem;">
                            Confidence: ${alert.conf}% • ${alert.time}
                        </div>
                    </div>
                </div>
            `;
        }
        document.getElementById('alertsList').innerHTML = html;
    }
    
    console.log('App loaded successfully - NO REACT, pure JavaScript');
</script>
```

</body>
</html>
